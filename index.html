<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus Mitra - Your All-in-One Platform for Student Life</title>
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            /* Modern SaaS Color Palette */
            --primary-dark: #1a1f36;
            --primary-blue: #2563eb;
            --primary-purple: #6366f1;
            --accent-cyan: #06b6d4;
            --accent-pink: #ec4899;

            /* Backgrounds */
            --bg-light: #f8fafc;
            --bg-white: #ffffff;
            --bg-gradient-start: #f1f5f9;
            --bg-gradient-end: #e0e7ff;

            /* Text Colors */
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #94a3b8;

            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

            /* Card Gradients */
            --gradient-purple: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-blue: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);
            --gradient-cyan: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            --gradient-pink: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            padding: 0;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Background Shapes */
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            right: -10%;
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 20s ease-in-out infinite;
            z-index: 0;
        }

        body::after {
            content: '';
            position: fixed;
            bottom: -30%;
            left: -10%;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(6, 182, 212, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 15s ease-in-out infinite reverse;
            z-index: 0;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) translateX(0);
            }

            50% {
                transform: translateY(-20px) translateX(10px);
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 40px 0;
            margin-bottom: 48px;
            animation: slideDown 0.8s ease-out;
            position: relative;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .brand-section {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .logo {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid transparent;
            background-image: linear-gradient(white, white), linear-gradient(135deg, #6366F1 0%, #8B5CF6 50%, #06B6D4 100%);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            position: relative;
        }

        .logo::after {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 20px;
            padding: 4px;
            background: linear-gradient(135deg, #6366F1, #8B5CF6, #06B6D4);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .logo:hover::after {
            opacity: 1;
        }

        .logo:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 20px 40px -10px rgba(99, 102, 241, 0.4);
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 16px;
        }

        .brand {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .brand h1 {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 3rem;
            font-weight: 900;
            margin: 0;
            letter-spacing: -1.5px;
            background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 50%, #06B6D4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            line-height: 1;
        }

        .brand-tagline {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            padding: 6px 16px;
            border-radius: 20px;
            border: 1px solid rgba(99, 102, 241, 0.2);
            width: fit-content;
        }

        .brand-tagline-icon {
            width: 16px;
            height: 16px;
            background: linear-gradient(135deg, #6366F1, #8B5CF6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
            font-weight: 700;
        }

        .brand-tagline-text {
            color: var(--text-primary);
            font-size: 0.875rem;
            font-weight: 600;
            letter-spacing: 0.3px;
        }

        .login-btn {
            background: var(--gradient-blue);
            padding: 12px 28px;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow-md);
            font-size: 0.95rem;
            color: white;
            font-weight: 600;
            font-family: 'Outfit', sans-serif;
            transition: all 0.3s ease;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .user-icon {
            width: 18px;
            height: 18px;
        }

        /* Module Cards Grid */
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            margin-bottom: 60px;
            animation: fadeInUp 0.8s ease-out 0.3s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .module-card {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 32px;
            box-shadow: var(--shadow-md);
            display: flex;
            align-items: center;
            gap: 24px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            animation: popIn 0.5s ease-out both;
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .module-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(6, 182, 212, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 0;
        }

        .module-card:hover::before {
            opacity: 1;
        }

        .module-card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .module-card:nth-child(2) {
            animation-delay: 0.15s;
        }

        .module-card:nth-child(3) {
            animation-delay: 0.2s;
        }

        .module-card:nth-child(4) {
            animation-delay: 0.25s;
        }

        @keyframes popIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .module-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-2xl);
        }

        .module-icon {
            width: 80px;
            height: 80px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.3s ease;
            overflow: hidden;
            position: relative;
            z-index: 1;
            box-shadow: var(--shadow-lg);
        }

        .module-card:nth-child(1) .module-icon {
            background: var(--gradient-purple);
        }

        .module-card:nth-child(2) .module-icon {
            background: var(--gradient-cyan);
        }

        .module-card:nth-child(3) .module-icon {
            background: var(--gradient-blue);
        }

        .module-card:nth-child(4) .module-icon {
            background: var(--gradient-pink);
        }

        .module-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .module-card:hover .module-icon {
            transform: scale(1.1) rotate(3deg);
        }

        .module-content {
            flex: 1;
            position: relative;
            z-index: 1;
        }

        .module-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            font-family: 'DM Serif Display', serif;
            letter-spacing: -0.3px;
        }

        .module-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.6;
            font-weight: 400;
        }

        /* Call to Action Section */
        .cta-section {
            text-align: center;
            margin-bottom: 60px;
            padding: 60px 40px;
            background: var(--bg-white);
            border-radius: 24px;
            box-shadow: var(--shadow-lg);
            animation: fadeInUp 0.8s ease-out 0.5s both;
        }

        .cta-text {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.7;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .get-started-btn {
            background: var(--gradient-purple);
            color: white;
            border: none;
            padding: 16px 48px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
            font-family: 'Outfit', sans-serif;
        }

        .get-started-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-2xl);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 0;
            color: var(--text-muted);
            font-size: 0.9rem;
            animation: fadeIn 0.8s ease-out 0.7s both;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        /* Responsive */
        @media (max-width: 968px) {
            .modules-grid {
                grid-template-columns: 1fr;
            }

            header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }

            .login-btn {
                align-self: flex-end;
            }
        }

        @media (max-width: 640px) {
            .brand h1 {
                font-size: 2.2rem;
            }

            .module-card {
                flex-direction: column;
                text-align: center;
                padding: 30px;
            }

            .module-icon {
                width: 80px;
                height: 80px;
                font-size: 2.5rem;
            }

            .module-title {
                font-size: 1.5rem;
            }

            .module-description {
                font-size: 1rem;
            }

            .cta-text {
                font-size: 1.1rem;
            }
        }

        /* Chatbot Styles */
        .chatbot-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            pointer-events: none;
            /* Add this to prevent blocking clicks */
        }

        .chatbot-button,
        .chat-window {
            pointer-events: auto;
            /* Ensure children still receive clicks */
        }

        .chatbot-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient-purple);
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
            position: relative;
        }

        .chatbot-button::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border-radius: 50%;
            background: var(--gradient-purple);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
            filter: blur(8px);
        }

        .chatbot-button:hover::before {
            opacity: 0.6;
        }

        @keyframes pulse {

            0%,
            100% {
                box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
            }

            50% {
                box-shadow: 0 4px 30px rgba(99, 102, 241, 0.6);
            }
        }

        .chatbot-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(99, 102, 241, 0.6);
        }

        .chatbot-button svg {
            width: 30px;
            height: 30px;
            fill: white;
        }

        .chat-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 380px;
            height: 550px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            animation: slideUp 0.3s ease-out;
        }

        .chat-window.active {
            display: flex;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            background: var(--gradient-purple);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .chat-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%) translateY(-100%) rotate(45deg);
            }

            100% {
                transform: translateX(100%) translateY(100%) rotate(45deg);
            }
        }

        .chat-header-content {
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            z-index: 1;
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            animation: avatarPulse 2s ease-in-out infinite;
        }

        @keyframes avatarPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .chat-avatar svg {
            width: 24px;
            height: 24px;
            fill: var(--sage-green);
        }

        .chat-header-text h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chat-header-text p {
            margin: 0;
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .close-chat {
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease;
            position: relative;
            z-index: 1;
        }

        .close-chat:hover {
            transform: rotate(90deg);
        }

        .close-chat svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--sage-green);
            border-radius: 3px;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            gap: 10px;
            animation: messageSlide 0.3s ease-out;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--sage-green);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: var(--teal-gradient-start);
        }

        .message-avatar svg {
            width: 18px;
            height: 18px;
            fill: white;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 15px;
            background: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            word-wrap: break-word;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, var(--sage-green) 0%, var(--sage-green-dark) 100%);
            color: white;
        }

        .message-content p {
            margin: 0;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .typing-indicator {
            display: none;
            padding: 12px 16px;
            background: white;
            border-radius: 15px;
            width: fit-content;
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dots span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--sage-green);
            animation: typingBounce 1.4s infinite;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingBounce {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-10px);
            }
        }

        .chat-input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #e9ecef;
        }

        .chat-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 0.95rem;
            font-family: 'Outfit', sans-serif;
            transition: border-color 0.3s ease;
            outline: none;
        }

        .chat-input:focus {
            border-color: var(--sage-green);
        }

        .send-button {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--sage-green) 0%, var(--sage-green-dark) 100%);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .send-button:hover:not(:disabled) {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(127, 168, 150, 0.4);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .send-button svg {
            width: 20px;
            height: 20px;
            fill: white;
        }

        @media (max-width: 640px) {
            .chat-window {
                width: calc(100vw - 40px);
                height: calc(100vh - 120px);
                bottom: 80px;
                right: 20px;
            }

            .chatbot-container {
                bottom: 20px;
                right: 20px;
            }
        }

        /* Welcome Toast Notification */
        #welcomeToast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-purple));
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: var(--shadow-2xl);
            z-index: 1000;
            display: none;
            align-items: center;
            gap: 12px;
            animation: slideInRight 0.5s ease-out, fadeOut 0.5s ease-out 3.5s forwards;
        }

        .login-btn:hover {
            background: linear-gradient(135deg, var(--primary-purple) 0%, var(--primary-blue) 100%);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Motivational Quote Section */
        .quote-section {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-purple) 100%);
            border-radius: 24px;
            padding: 48px 40px;
            margin-bottom: 48px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-2xl);
            animation: slideUp 0.8s ease-out 0.2s both;
        }

        .quote-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 15s ease-in-out infinite;
        }

        .quote-container {
            position: relative;
            z-index: 1;
            text-align: center;
            color: white;
        }

        .quote-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 20px;
            opacity: 0.9;
        }

        .quote-text {
            font-size: 1.75rem;
            font-weight: 600;
            line-height: 1.5;
            margin-bottom: 16px;
            font-style: italic;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 0.4s forwards;
        }

        .quote-author {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 500;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 0.6s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(400px);
            }
        }

        #welcomeToast svg {
            width: 24px;
            height: 24px;
        }

        #welcomeToast .toast-message {
            font-weight: 500;
            font-size: 1rem;
        }
    </style>
</head>

<body>
    <!-- Welcome Toast -->
    <div id="welcomeToast">
        <svg fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                clip-rule="evenodd" />
        </svg>
        <span class="toast-message" id="toastMessage"></span>
    </div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="brand-section">
                <div class="logo">
                    <img src="campus.JPG" alt="Campus Mitra Logo">
                </div>
                <div class="brand">
                    <h1>Campus Mitra</h1>
                    <div class="brand-tagline">
                        <div class="brand-tagline-icon">‚ú¶</div>
                        <span class="brand-tagline-text">All-in-One Student Life Platform</span>
                    </div>
                </div>
            </div>
            <a href="auth.html" id="loginBtnLink">
                <button class="login-btn" id="loginBtn">
                    <svg class="user-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                            clip-rule="evenodd" />
                    </svg>
                    Log In
                </button>
            </a>
            <div id="userSession" style="display: none; align-items: center; gap: 15px;">
                <span id="userName" style="font-weight: 500; color: var(--text-primary);"></span>
                <button class="login-btn" id="deleteAccountBtn"
                    style="background: #fee2e2; color: #dc2626; border: 1px solid #fecaca;">Delete Account</button>
                <button class="login-btn" id="logoutBtn"
                    style="background: var(--bg-white); color: var(--text-primary); border: 1px solid #e2e8f0;">Logout</button>
            </div>
        </header>

        <!-- Motivational Quote Section -->
        <div class="quote-section">
            <div class="quote-container">
                <svg class="quote-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                </svg>
                <div class="quote-text" id="quoteText">Loading...</div>
                <div class="quote-author" id="quoteAuthor">- Campus Mitra</div>
            </div>
        </div>

        <!-- Module Cards -->
        <div class="modules-grid">
            <!-- BookLoop -->
            <a href="bookloop_with_sell.html" class="module-card">
                <div class="module-icon">
                    <img src="book_loop.JPG" alt="BookLoop">
                </div>
                <div class="module-content">
                    <div class="module-title">BookLoop</div>
                    <div class="module-description">Buy & sell study materials easily within your campus.</div>
                </div>
            </a>

            <!-- StudyVault -->
            <a href="studywalt_connected.html" class="module-card">
                <div class="module-icon">
                    <img src="study_walt logo.JPG" alt="StudyVault">
                </div>
                <div class="module-content">
                    <div class="module-title">StudyVault</div>
                    <div class="module-description">Find, save & share academic resources effortlessly.</div>
                </div>
            </a>

            <!-- AcadTrack -->
            <a href="acadtrack_complete%20(1).html" class="module-card">
                <div class="module-icon">
                    <img src="acadtrack.JPG" alt="AcadTrack">
                </div>
                <div class="module-content">
                    <div class="module-title">AcadTrack</div>
                    <div class="module-description">Track assignments, exams, and semesters seamlessly.</div>
                </div>
            </a>

            <!-- SpendSmart -->
            <a href="spendsmart_enhanced.html" class="module-card">
                <div class="module-icon">
                    <img src="spendsmart.JPG" alt="SpendSmart">
                </div>
                <div class="module-content">
                    <div class="module-title">SpendSmart</div>
                    <div class="module-description">Manage your student expenses and budgets smartly.</div>
                </div>
            </a>
        </div>

        <!-- Call to Action -->
        <div class="cta-section">
            <p class="cta-text">
                Join,Students who rely on Campus Mitra to make their<br>
                student life easier and more organized.
                Let's Connect at Campus Mitra ( Your Campus Friend)
            </p>
            <button class="get-started-btn">Get Started</button>
        </div>

        <!-- Footer -->
        <footer>
            ¬© 2024 Campus Mitra | Designed for students, by students.
        </footer>
    </div>

    <!-- Chatbot -->
    <div class="chatbot-container">
        <button class="chatbot-button" id="chatbotToggle" aria-label="Open chat">
            <svg viewBox="0 0 24 24">
                <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z" />
                <path d="M7 9h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z" />
            </svg>
        </button>

        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="chat-header-content">
                    <div class="chat-avatar">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" />
                        </svg>
                    </div>
                    <div class="chat-header-text">
                        <h3>Campus Mitra Assistant</h3>
                        <p>üü¢ Online ‚Ä¢ Here to help students</p>
                    </div>
                </div>
                <button class="close-chat" id="closeChat" aria-label="Close chat">
                    <svg viewBox="0 0 24 24">
                        <path
                            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                    </svg>
                </button>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    <div class="message-avatar">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" />
                        </svg>
                    </div>
                    <div class="message-content">
                        <p>üëã Welcome to Campus Mitra! I'm your AI assistant, here to help you navigate our platform and
                            answer any questions about our student services.</p>
                    </div>
                </div>
                <div class="message bot">
                    <div class="message-avatar">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" />
                        </svg>
                    </div>
                    <div class="message-content">
                        <p>üí° Ask me about:<br>üìö <strong>BookLoop</strong> - Buy & sell books<br>üóÇÔ∏è
                            <strong>StudyVault</strong> - Academic resources<br>üìÖ <strong>AcadTrack</strong> -
                            Assignment tracking<br>üí∞ <strong>SpendSmart</strong> - Budget management
                        </p>
                    </div>
                </div>
            </div>

            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..."
                        autocomplete="off">
                    <button class="send-button" id="sendButton" aria-label="Send message">
                        <svg viewBox="0 0 24 24">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Custom Session Management using LocalStorage
        const SESSION_KEY = 'campus_mitra_session';

        const loginBtnLink = document.getElementById('loginBtnLink');
        const userSession = document.getElementById('userSession');
        const userName = document.getElementById('userName');
        const logoutBtn = document.getElementById('logoutBtn');
        const welcomeToast = document.getElementById('welcomeToast');
        const toastMessage = document.getElementById('toastMessage');

        function checkSession() {
            const sessionData = localStorage.getItem(SESSION_KEY);

            if (sessionData) {
                const user = JSON.parse(sessionData);

                if (loginBtnLink && userSession) {
                    loginBtnLink.style.display = 'none';
                    userSession.style.display = 'flex';
                }

                // Display personalized greeting
                if (userName) {
                    const username = user.username || user.name || user.email.split('@')[0];
                    userName.innerText = `Hi, ${username}!`;
                }

                // Show welcome toast on first load
                if (welcomeToast && toastMessage && !sessionStorage.getItem('welcomeShown')) {
                    const username = user.username || user.name || user.email.split('@')[0];
                    toastMessage.innerText = `Welcome to Campus Mitra, ${username}!`;
                    welcomeToast.style.display = 'flex';
                    sessionStorage.setItem('welcomeShown', 'true');

                    // Auto-hide after 4 seconds
                    setTimeout(() => {
                        welcomeToast.style.display = 'none';
                    }, 4000);
                }
            } else {
                if (loginBtnLink && userSession) {
                    loginBtnLink.style.display = 'block';
                    userSession.style.display = 'none';
                }
            }
        }

        if (logoutBtn) {
            logoutBtn.onclick = () => {
                localStorage.removeItem(SESSION_KEY);
                sessionStorage.removeItem('welcomeShown');
                checkSession();
            };
        }

        // --- DELETE ACCOUNT FUNCTIONALITY ---
        const deleteAccountBtn = document.getElementById('deleteAccountBtn');
        const deleteAccountModal = document.getElementById('deleteAccountModal');
        const closeDeleteModal = document.getElementById('closeDeleteModal');
        const deletePassword = document.getElementById('deletePassword');
        const deleteConfirmText = document.getElementById('deleteConfirmText');
        const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');

        if (deleteAccountBtn && deleteAccountModal) {
            deleteAccountBtn.onclick = () => {
                deleteAccountModal.style.display = 'flex';
            };

            closeDeleteModal.onclick = () => {
                deleteAccountModal.style.display = 'none';
                deletePassword.value = '';
                deleteConfirmText.value = '';
            };

            deleteAccountModal.onclick = (e) => {
                if (e.target === deleteAccountModal) {
                    deleteAccountModal.style.display = 'none';
                    deletePassword.value = '';
                    deleteConfirmText.value = '';
                }
            };

            confirmDeleteBtn.onclick = () => {
                const password = deletePassword.value.trim();
                const confirmText = deleteConfirmText.value.trim();

                if (!password) {
                    alert('Please enter your password.');
                    return;
                }

                if (confirmText !== 'DELETE') {
                    alert('Please type "DELETE" to confirm account deletion.');
                    return;
                }

                const sessionData = localStorage.getItem(SESSION_KEY);
                if (!sessionData) {
                    alert('No active session found.');
                    return;
                }

                const currentUser = JSON.parse(sessionData);
                const USERS_KEY = 'campus_mitra_users';
                const users = JSON.parse(localStorage.getItem(USERS_KEY) || '[]');
                const user = users.find(u => u.email === currentUser.email);

                if (!user) {
                    alert('User not found.');
                    return;
                }

                if (currentUser.method === 'custom' && user.password !== password) {
                    alert('Incorrect password.');
                    return;
                }

                if (!confirm('Are you absolutely sure? This action cannot be undone!')) {
                    return;
                }

                const updatedUsers = users.filter(u => u.email !== currentUser.email);
                localStorage.setItem(USERS_KEY, JSON.stringify(updatedUsers));
                localStorage.removeItem(SESSION_KEY);
                sessionStorage.removeItem('welcomeShown');
                deleteAccountModal.style.display = 'none';

                alert('Your account has been successfully deleted. You will be redirected to the login page.');
                window.location.href = 'auth.html';
            };
        }

        // Initialize - Run on page load
        checkSession();

        // ==========================================
        // MOTIVATIONAL QUOTES SYSTEM
        // ==========================================
        const motivationalQuotes = [
            {
                text: "Success is not final, failure is not fatal: it is the courage to continue that counts.",
                author: "Winston Churchill"
            },
            {
                text: "The future belongs to those who believe in the beauty of their dreams.",
                author: "Eleanor Roosevelt"
            },
            {
                text: "Education is the most powerful weapon which you can use to change the world.",
                author: "Nelson Mandela"
            },
            {
                text: "The only way to do great work is to love what you do.",
                author: "Steve Jobs"
            },
            {
                text: "Believe you can and you're halfway there.",
                author: "Theodore Roosevelt"
            },
            {
                text: "Don't watch the clock; do what it does. Keep going.",
                author: "Sam Levenson"
            },
            {
                text: "The expert in anything was once a beginner.",
                author: "Helen Hayes"
            },
            {
                text: "Your limitation‚Äîit's only your imagination.",
                author: "Unknown"
            },
            {
                text: "Push yourself, because no one else is going to do it for you.",
                author: "Unknown"
            },
            {
                text: "Great things never come from comfort zones.",
                author: "Unknown"
            },
            {
                text: "Dream it. Wish it. Do it.",
                author: "Unknown"
            },
            {
                text: "Success doesn't just find you. You have to go out and get it.",
                author: "Unknown"
            },
            {
                text: "The harder you work for something, the greater you'll feel when you achieve it.",
                author: "Unknown"
            },
            {
                text: "Dream bigger. Do bigger.",
                author: "Unknown"
            },
            {
                text: "Don't stop when you're tired. Stop when you're done.",
                author: "Unknown"
            },
            {
                text: "Wake up with determination. Go to bed with satisfaction.",
                author: "Unknown"
            },
            {
                text: "Do something today that your future self will thank you for.",
                author: "Sean Patrick Flanery"
            },
            {
                text: "Little things make big days.",
                author: "Unknown"
            },
            {
                text: "It's going to be hard, but hard does not mean impossible.",
                author: "Unknown"
            },
            {
                text: "Don't wait for opportunity. Create it.",
                author: "Unknown"
            }
        ];

        // Function to display random quote
        function displayRandomQuote() {
            const randomIndex = Math.floor(Math.random() * motivationalQuotes.length);
            const quote = motivationalQuotes[randomIndex];

            const quoteText = document.getElementById('quoteText');
            const quoteAuthor = document.getElementById('quoteAuthor');

            if (quoteText && quoteAuthor) {
                quoteText.textContent = `"${quote.text}"`;
                quoteAuthor.textContent = `- ${quote.author}`;
            }
        }

        // Display quote on page load
        displayRandomQuote();

        // Listen for storage changes
        window.addEventListener('storage', (e) => {
            if (e.key === SESSION_KEY) {
                checkSession();
            }
        });
    </script>

    <script>
        // Gemini API Configuration
        const GEMINI_API_KEY = 'AIzaSyDsGk2bQQ5p1jn8nWx-x2isR7G9KRi6BoU';
        const GEMINI_API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";

        // DOM Elements
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatWindow = document.getElementById('chatWindow');
        const closeChat = document.getElementById('closeChat');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');

        // Toggle chat window
        chatbotToggle.addEventListener('click', () => {
            chatWindow.classList.add('active');
            chatInput.focus();
        });

        closeChat.addEventListener('click', () => {
            chatWindow.classList.remove('active');
        });

        // Send message on button click
        sendButton.addEventListener('click', sendMessage);

        // Send message on Enter key
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        async function sendMessage() {
            const message = chatInput.value.trim();

            if (!message) return;

            // Add user message to chat
            addMessage(message, 'user');
            chatInput.value = '';

            // Disable input while processing
            chatInput.disabled = true;
            sendButton.disabled = true;

            // Show typing indicator
            showTypingIndicator();

            try {
                // Call Gemini API with key as query parameter
                const apiUrl = `${GEMINI_API_URL}?key=${GEMINI_API_KEY}`;
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `You are the Campus Mitra AI Assistant, a friendly and knowledgeable helper for students using the Campus Mitra platform. Campus Mitra is an all-in-one student life platform with four main modules:

1. BookLoop - A marketplace for students to buy and sell academic books and notes easily
2. StudyVault - A resource hub to find, save, and share academic materials effortlessly  
3. AcadTrack - An academic tracker to manage assignments, exams, and semester schedules seamlessly
4. SpendSmart - A budget management tool to help students track expenses and manage their finances smartly

Be helpful, concise, and encouraging. Use emojis occasionally to be friendly. If asked about features, provide specific details about how each module helps students. Keep responses under 3-4 sentences unless more detail is requested.

User question: ${message}`
                            }]
                        }]
                    })
                });

                // Get response as text first to handle non-JSON errors
                const responseText = await response.text();
                let data;
                try {
                    data = JSON.parse(responseText);
                } catch (e) {
                    console.error('Failed to parse response as JSON:', responseText);
                    throw new Error(`Invalid JSON response: ${responseText.substring(0, 100)}...`);
                }

                // Check if response is ok
                if (!response.ok) {
                    console.error('API Error Response:', data);
                    const statusReason = data.error?.status || 'Unknown Status';
                    const messageDetail = data.error?.message || response.statusText;
                    throw new Error(`${statusReason}: ${messageDetail}`);
                }
                console.log('API Response:', data);

                // Hide typing indicator
                hideTypingIndicator();

                if (data.candidates && data.candidates[0]?.content?.parts?.[0]?.text) {
                    const botResponse = data.candidates[0].content.parts[0].text;
                    addMessage(botResponse, 'bot');
                } else if (data.error) {
                    throw new Error(data.error.message || 'API returned an error object without a message');
                } else {
                    console.error('Unexpected response format:', data);
                    throw new Error('Unexpected response format from API');
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                hideTypingIndicator();

                let errorMessage = '‚ùå ';
                if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {
                    errorMessage += 'Network error. Please check your internet connection and try again.';
                } else if (error.message.includes('API_KEY_INVALID') || error.message.includes('API key not valid')) {
                    errorMessage += 'Invalid API key. Please contact support.';
                } else if (error.message.includes('quota')) {
                    errorMessage += 'API quota exceeded. Please try again later.';
                } else if (error.message.includes('SAFETY')) {
                    errorMessage += 'Your message was blocked by safety filters. Please rephrase your question.';
                } else if (error.message) {
                    errorMessage += `Error: ${error.message}`;
                } else {
                    errorMessage += 'Something went wrong. Please try again in a moment.';
                }

                addMessage(errorMessage, 'bot');
            }

            // Re-enable input
            chatInput.disabled = false;
            sendButton.disabled = false;
            chatInput.focus();
        }

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;

            messageDiv.innerHTML = `
                <div class="message-avatar">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                    </svg>
                </div>
                <div class="message-content">
                    <p>${text}</p>
                </div>
            `;

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot';
            typingDiv.id = 'typingIndicator';

            typingDiv.innerHTML = `
                <div class="message-avatar">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                    </svg>
                </div>
                <div class="typing-indicator active">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;

            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
    </script>

    <!-- Delete Account Modal -->
    <div class="modal-overlay" id="deleteAccountModal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div
            style="background: white; padding: 40px; border-radius: 20px; max-width: 450px; width: 90%; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); position: relative;">
            <button id="closeDeleteModal"
                style="position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 24px; cursor: pointer; color: #64748b;">&times;</button>

            <div style="text-align: center; margin-bottom: 24px;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2"
                    style="margin: 0 auto 16px;">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="15" y1="9" x2="9" y2="15"></line>
                    <line x1="9" y1="9" x2="15" y2="15"></line>
                </svg>
                <h2 style="color: #0f172a; margin-bottom: 8px;">Delete Account</h2>
                <p style="color: #64748b; font-size: 0.9rem;">This action cannot be undone</p>
            </div>

            <div
                style="background: #fee2e2; padding: 16px; border-radius: 12px; margin-bottom: 24px; border-left: 4px solid #dc2626;">
                <p style="color: #991b1b; font-size: 0.9rem; margin: 0;"><strong>Warning:</strong> All your data will be
                    permanently deleted including your profile, preferences, and activity history.</p>
            </div>

            <div style="margin-bottom: 20px;">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 500; color: #0f172a;">Confirm
                        Password</label>
                    <input type="password" id="deletePassword" placeholder="Enter your password"
                        style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 1px solid #e2e8f0; font-family: inherit;">
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 500; color: #0f172a;">Type "DELETE"
                        to confirm</label>
                    <input type="text" id="deleteConfirmText" placeholder="DELETE"
                        style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 1px solid #e2e8f0; font-family: inherit;">
                </div>
                <button id="confirmDeleteBtn"
                    style="width: 100%; padding: 14px; background: #dc2626; color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">Delete
                    My Account</button>
            </div>
        </div>
    </div>
</body>

</html>